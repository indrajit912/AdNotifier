<!-- app/auth/register_user.html -->
{% extends 'base.html' %}

{% block title %}New User Registration{% endblock %}

{% block content %}
    {% include 'flash_msgs.html' %}

    {% for error in form.passwd.errors %}
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
            {{ error }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    {% endfor %}
    
    <h1 class="heading">Registration for {{ user_data['fullname'] }}</h1>

    <form method="POST" class="form-container">
        {{ form.hidden_tag() }}

        <div class="mb-3">
            {{ form.passwd.label(class="form-label") }}
            {{ form.passwd(class="form-control") }}
        </div>

        <div class="mb-3">
            {{ form.confirm_passwd.label(class="form-label") }}
            {{ form.confirm_passwd(class="form-control") }}
        </div>

        <div class="mb-3">
            {{ form.nickname.label(class="form-label") }}
            {{ form.nickname(class="form-control", placeholder="Optional: What should I call you?") }}
        </div>

        <div class="mb-3">
            {{ form.telegram.label(class="form-label") }}
            {{ form.telegram(class="form-control", placeholder="It's optional, and you can choose to add it later as well.") }}
            <div class="form-text">
                Not sure about your Telegram User ID? 
                <button type="button" style="display: inline;" data-bs-toggle="modal" data-bs-target="#telegramModal">
                    <span class="text-decoration-underline" style="color: #007BFF;">Here's</span>
                </button>
                 how to find it!
            </div>

                <!-- Modal -->
                <div class="modal fade" id="telegramModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="telegramModalLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="telegramModalLabel">How to Find Your Telegram <code>user ID</code></h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <p>Locating someone on Telegram is made simple by using their Telegram username, serving as their unique ID on the platform. Additionally, every Telegram profile is linked to a <strong>numerical</strong> <code>user ID</code>.</p>
                        
                            <p>A Telegram <code>user ID</code> is a <i>numeric</i> identifier exclusive to a particular Telegram account. In contrast, a Telegram ID is your username, visible when others view your Telegram profile.</p>
                        
                            <p>To discover your Telegram <code>user ID</code>, access your Telegram account, tap the search icon, enter <a href="https://telegram.me/userinfobot"><code>@userinfobot</code></a>, and select it from the search results. Once open, click the "Start" button at the bottom, and the bot will provide you with your Telegram <code>user ID</code>. Note that this bot cannot be used to find someone else's Telegram <code>user ID</code>.</p>
                        </div>

                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Understood</button>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- Modal end -->
        </div>

        <div class="col-sm-10">
            {{ form.submit(class="btn btn-primary") }}
        </div>
    </form>
{% endblock %}



<!-- Button trigger modal -->

